Bank REST — система управления банковскими картами

Данный документ содержит техническое описание проекта в формате, приближенном к JavaDoc/технической спецификации.

1. Назначение системы
---------------------
Система предназначена для управления банковскими картами, пользователями и переводами между картами. Поддерживает роли пользователя и администратора, JWT-аутентификацию, шифрование данных, пагинацию, фильтрацию и миграции базы данных.

2. Функциональные возможности

2.1 Роли пользователей
- USER — доступ к собственным картам, переводам и запросам на блокировку.
- ADMIN — управление картами, пользователями и полный просмотр данных.

2.2 Управление картами
- Создание, получение, блокировка, активация, удаление карт.
- Пагинация и фильтрация по статусам.
- Автоматическая смена статуса EXPIRED по расписанию.

2.3 Переводы между картами
- Переводы возможны только между картами одного пользователя.
- Проверки статуса, срока действия и баланса.
- История переводов сохраняется.

2.4 Аутентификация
- JWT токены.
- Авторизация по ролям.

3. Используемые технологии

- Java 17, Spring Boot 3, Spring Security, Spring Data JPA.
- PostgreSQL, Liquibase, Docker Compose.
- MapStruct, Lombok.
- Swagger/OpenAPI.
- JUnit/Mockito.

4. Развёртывание

Требуется установленный Docker.

4.1 Запуск PostgreSQL:
    docker-compose up -d

4.2 Запуск приложения:
    mvn spring-boot:run

5. Документация API

- Swagger UI: /swagger-ui/index.html
- OpenAPI YAML: /v3/api-docs.yaml

6. Структура проекта

- controller — REST API контроллеры.
- service — бизнес-логика.
- repository — доступ к данным.
- mapper — MapStruct мапперы DTO.
- entity — сущности базы данных.
- security — JWT и конфигурация безопасности.
- exception — глобальная обработка ошибок.
- util — вспомогательные классы.